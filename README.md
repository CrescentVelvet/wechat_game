# 示例游戏

示例相关说明查阅[新手教程](https://developers.weixin.qq.com/minigame/dev/guide/develop/start.html)

CodeBuddy使用方法查阅[AI工具教程](https://mp.weixin.qq.com/s/bpJn-WRh4M16pPEInxRnMQ)

## 源码目录介绍

```
├── audio                                      // 音频资源
├── images                                     // 图片资源
├── js
│   ├── base
│   │   ├── animatoin.js                       // 帧动画的简易实现
│   │   ├── pool.js                            // 对象池的简易实现
│   │   └── sprite.js                          // 游戏基本元素精灵类
│   ├── libs
│   │   └── tinyemitter.js                     // 事件监听和触发
│   ├── npc
│   │   └── enemy.js                           // 敌机类
│   ├── player
│   │   ├── bullet.js                          // 子弹类
│   │   └── index.js                           // 玩家类
│   ├── runtime
│   │   ├── background.js                      // 背景类
│   │   ├── gameinfo.js                        // 用于展示分数和结算界面
│   │   └── music.js                           // 全局音效管理器
│   ├── databus.js                             // 管控游戏状态
│   ├── main.js                                // 游戏入口主函数
│   └── render.js                              // 基础渲染信息
├── .eslintrc.js                               // 代码规范
├── game.js                                    // 游戏逻辑主入口
├── game.json                                  // 游戏运行时配置
├── project.config.json                        // 项目配置
└── project.private.config.json                // 项目个人配置
```

# 微信小程序飞机大战游戏开发提示词

基于TypeScript的微信小程序模板，开发一个完整的飞机大战游戏。要求使用Canvas实现游戏渲染，包含完整的游戏逻辑、敌机生成、碰撞检测和积分系统。

## 代码质量与规范要求

### 代码质量要求

1. **性能优化**：
   - 使用对象池管理游戏对象（子弹、敌机等）
   - 避免在渲染循环中创建新对象
   - 合理使用节流/防抖控制事件频率

2. **代码结构**：
   - 采用模块化设计，分离游戏逻辑、渲染、控制等模块
   - 使用面向对象编程思想组织游戏实体
   - 遵循单一职责原则设计组件

3. **可维护性**：
   - 添加详细的JSDoc注释
   - 关键算法和逻辑添加说明注释
   - 使用有意义的变量和函数命名

### 微信小程序规范要求

1. **项目结构**：
   - 符合标准小程序目录结构
   - 合理划分页面和组件
   - 静态资源存放在正确目录

2. **API使用**：
   - 正确使用Canvas API
   - 合理使用wx系统API（存储、音效等）
   - 处理好生命周期函数

3. **兼容性**：
   - 适配不同屏幕尺寸
   - 处理微信基础库版本兼容
   - 考虑不同设备性能差异

## 游戏规则说明

### 基本规则

1. **玩家控制**：
   - 玩家通过触摸屏幕左右滑动控制自机（玩家飞机）水平移动
   - 自机自动持续发射子弹攻击上方敌机

2. **敌机系统**：
   - 随机生成三种敌机：
     - 小型机（1点生命，移动快，击落得100分）
     - 中型机（3点生命，移动中等，击落得300分）
     - BOSS机（10点生命，移动慢，击落得1000分）
   - 敌机会自动向下移动并随机发射子弹

3. **碰撞判定**：
   - 玩家子弹击中敌机：敌机生命值减少，子弹消失
   - 敌机子弹击中玩家：玩家生命值减少，子弹消失
   - 玩家与敌机直接碰撞：双方均扣除1点生命

### 积分系统

1. 击落敌机获得对应分数
2. 连续击破奖励：每连续击落5架敌机获得200分额外奖励
3. 最高分记录：本地存储最高分记录并显示

### 失败条件

1. 玩家生命值归零（初始3点生命）
2. 任一敌机移动到底部边界
3. 游戏结束后显示最终得分和排名

### 游戏流程

1. 开始界面：显示游戏标题、开始按钮和最高分记录
2. 游戏中：顶部显示当前分数和剩余生命，底部显示自机
3. 结束界面：显示"Game Over"、最终得分、最高分和重新开始按钮

## 技术要求

1. 使用TypeScript开发
2. 实现帧动画系统处理爆炸效果
3. 使用对象池管理子弹和敌机实例
4. 添加音效系统（射击音效、爆炸音效等）
5. 适配不同屏幕尺寸

## 代码实现要求

请生成完整的游戏代码实现，包含：

1. 游戏主逻辑模块
2. 实体管理模块（玩家、敌机、子弹）
3. 碰撞检测模块
4. 分数统计模块
5. 游戏状态管理模块

> 注意：代码需要符合微信小程序规范，并添加必要的注释说明关键逻辑。
